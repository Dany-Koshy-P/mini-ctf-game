<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mini CTF - Beginner Challenges</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            color: #fff;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
        }

        header {
            text-align: center;
            margin-bottom: 30px;
            animation: fadeInDown 0.6s ease;
        }

        h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }

        .subtitle {
            font-size: 1.1em;
            opacity: 0.9;
        }

        .score-board {
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 20px;
            margin-bottom: 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            animation: fadeIn 0.6s ease 0.2s both;
        }

        .score-item {
            text-align: center;
        }

        .score-label {
            font-size: 0.9em;
            opacity: 0.8;
            margin-bottom: 5px;
        }

        .score-value {
            font-size: 2em;
            font-weight: bold;
        }

        .challenges {
            display: grid;
            gap: 20px;
        }

        .challenge-card {
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 25px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.18);
            transition: all 0.3s ease;
            animation: fadeInUp 0.6s ease both;
        }

        .challenge-card:nth-child(1) { animation-delay: 0.1s; }
        .challenge-card:nth-child(2) { animation-delay: 0.2s; }
        .challenge-card:nth-child(3) { animation-delay: 0.3s; }
        .challenge-card:nth-child(4) { animation-delay: 0.4s; }
        .challenge-card:nth-child(5) { animation-delay: 0.5s; }

        .challenge-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 48px rgba(0, 0, 0, 0.2);
        }

        .challenge-card.solved {
            background: rgba(72, 187, 120, 0.3);
            border-color: rgba(72, 187, 120, 0.5);
        }

        .challenge-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .challenge-title {
            font-size: 1.3em;
            font-weight: bold;
        }

        .challenge-status {
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.85em;
            font-weight: bold;
        }

        .status-unsolved {
            background: rgba(245, 101, 101, 0.3);
            border: 1px solid rgba(245, 101, 101, 0.5);
        }

        .status-solved {
            background: rgba(72, 187, 120, 0.3);
            border: 1px solid rgba(72, 187, 120, 0.5);
        }

        .challenge-description {
            margin-bottom: 15px;
            line-height: 1.6;
            opacity: 0.95;
        }

        .hint-button {
            background: rgba(255, 255, 255, 0.2);
            border: 1px solid rgba(255, 255, 255, 0.3);
            color: #fff;
            padding: 8px 16px;
            border-radius: 10px;
            cursor: pointer;
            font-size: 0.9em;
            margin-bottom: 10px;
            transition: all 0.3s ease;
        }

        .hint-button:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: scale(1.05);
        }

        .hint-text {
            background: rgba(255, 255, 255, 0.1);
            padding: 10px;
            border-radius: 10px;
            margin-bottom: 15px;
            display: none;
            font-style: italic;
            opacity: 0.9;
        }

        .hint-text.show {
            display: block;
            animation: fadeIn 0.3s ease;
        }

        .flag-input-group {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }

        .flag-input {
            flex: 1;
            padding: 12px 16px;
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 10px;
            background: rgba(255, 255, 255, 0.1);
            color: #fff;
            font-size: 1em;
            transition: all 0.3s ease;
        }

        .flag-input:focus {
            outline: none;
            border-color: rgba(255, 255, 255, 0.6);
            background: rgba(255, 255, 255, 0.15);
        }

        .flag-input::placeholder {
            color: rgba(255, 255, 255, 0.6);
        }

        .submit-button {
            padding: 12px 24px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 10px;
            color: #fff;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1em;
        }

        .submit-button:hover {
            transform: scale(1.05);
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.2);
        }

        .submit-button:active {
            transform: scale(0.95);
        }

        .feedback {
            margin-top: 10px;
            padding: 10px;
            border-radius: 10px;
            text-align: center;
            font-weight: bold;
            display: none;
        }

        .feedback.show {
            display: block;
            animation: fadeIn 0.3s ease;
        }

        .feedback.success {
            background: rgba(72, 187, 120, 0.3);
            border: 1px solid rgba(72, 187, 120, 0.5);
        }

        .feedback.error {
            background: rgba(245, 101, 101, 0.3);
            border: 1px solid rgba(245, 101, 101, 0.5);
        }

        .admin-button {
            position: fixed;
            bottom: 20px;
            right: 20px;
            padding: 15px 25px;
            background: rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(10px);
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 50px;
            color: #fff;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.2);
        }

        .admin-button:hover {
            transform: scale(1.1);
            background: rgba(0, 0, 0, 0.5);
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(5px);
            z-index: 1000;
            animation: fadeIn 0.3s ease;
        }

        .modal.show {
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .modal-content {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 20px;
            padding: 30px;
            max-width: 600px;
            width: 100%;
            max-height: 80vh;
            overflow-y: auto;
            box-shadow: 0 16px 64px rgba(0, 0, 0, 0.3);
            animation: scaleIn 0.3s ease;
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .modal-title {
            font-size: 1.8em;
            font-weight: bold;
        }

        .close-button {
            background: rgba(255, 255, 255, 0.2);
            border: none;
            color: #fff;
            font-size: 1.5em;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .close-button:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: rotate(90deg);
        }

        .scoreboard-list {
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 20px;
        }

        .scoreboard-item {
            background: rgba(255, 255, 255, 0.1);
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 10px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .player-info {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .player-rank {
            font-size: 1.5em;
            font-weight: bold;
            opacity: 0.7;
        }

        .player-name {
            font-weight: bold;
        }

        .player-score {
            font-size: 1.3em;
            font-weight: bold;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }

        @keyframes fadeInDown {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes scaleIn {
            from {
                opacity: 0;
                transform: scale(0.9);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        @media (max-width: 600px) {
            h1 {
                font-size: 2em;
            }

            .score-value {
                font-size: 1.5em;
            }

            .challenge-title {
                font-size: 1.1em;
            }

            .flag-input-group {
                flex-direction: column;
            }

            .submit-button {
                width: 100%;
            }

            .admin-button {
                bottom: 10px;
                right: 10px;
                padding: 12px 20px;
                font-size: 0.9em;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>üîê Mini CTF Challenge</h1>
            <p class="subtitle">Test your cybersecurity skills with these beginner-friendly challenges!</p>
        </header>

        <div class="score-board">
            <div class="score-item">
                <div class="score-label">Your Score</div>
                <div class="score-value" id="score">0</div>
            </div>
            <div class="score-item">
                <div class="score-label">Solved</div>
                <div class="score-value"><span id="solved">0</span>/5</div>
            </div>
        </div>

        <div class="challenges" id="challenges"></div>
    </div>

    <button class="admin-button" onclick="showAdminPanel()">üìä Scoreboard</button>

    <div class="modal" id="adminModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">üèÜ Scoreboard</h2>
                <button class="close-button" onclick="closeAdminPanel()">&times;</button>
            </div>
            <div class="scoreboard-list" id="scoreboardList"></div>
        </div>
    </div>

    <script>
        const challenges = [
            {
                id: 1,
                title: "Base64 Decoder",
                description: "Decode this Base64 string to find the flag: <br><code>RkxBR3tkZWNvZGluZ19pc19lYXN5fQ==</code>",
                hint: "Use online Base64 decoder or browser's atob() function",
                flag: "FLAG{decoding_is_easy}",
                points: 100
            },
            {
                id: 2,
                title: "ROT13 Cipher",
                description: "This message looks scrambled! Decrypt it using ROT13: <br><code>SYNT{ebg13_vf_fvzcyr}</code>",
                hint: "ROT13 shifts each letter by 13 positions in the alphabet",
                flag: "FLAG{rot13_is_simple}",
                points: 100
            },
            {
                id: 3,
                title: "HTTP Status Code",
                description: "What does HTTP status code 200 mean? Format your answer as: FLAG{answer_here}",
                hint: "This status code means everything is working perfectly!",
                flag: "FLAG{ok}",
                points: 100
            },
            {
                id: 4,
                title: "Hash Type Identification",
                description: "Identify the hash type: <br><code>5d41402abc4b2a76b9719d911017c592</code><br>What hash algorithm produced this? Format: FLAG{hash_type}",
                hint: "This hash is 32 hexadecimal characters long and is one of the most common hash types",
                flag: "FLAG{md5}",
                points: 100
            },
            {
                id: 5,
                title: "Security Best Practice",
                description: "What security measure adds an extra layer of protection beyond just a strong password? Format: FLAG{abbreviation}",
                hint: "It's called Multi-Factor Authentication. What's the abbreviation?",
                flag: "FLAG{mfa}",
                points: 100
            }
        ];

        let userProgress = JSON.parse(localStorage.getItem('ctf_progress')) || {
            username: 'Player',
            score: 0,
            solved: [],
            timestamp: Date.now()
        };

        let allScores = JSON.parse(localStorage.getItem('ctf_scores')) || [];

        function initGame() {
            if (!userProgress.username || userProgress.username === 'Player') {
                const username = prompt('Welcome to Mini CTF! Please enter your name:') || 'Anonymous';
                userProgress.username = username;
                saveProgress();
            }

            updateScoreBoard();
            renderChallenges();
        }

        function renderChallenges() {
            const container = document.getElementById('challenges');
            container.innerHTML = '';

            challenges.forEach(challenge => {
                const isSolved = userProgress.solved.includes(challenge.id);
                const card = document.createElement('div');
                card.className = `challenge-card ${isSolved ? 'solved' : ''}`;
                card.innerHTML = `
                    <div class="challenge-header">
                        <div class="challenge-title">${challenge.title}</div>
                        <div class="challenge-status ${isSolved ? 'status-solved' : 'status-unsolved'}">
                            ${isSolved ? '‚úì Solved' : 'Unsolved'}
                        </div>
                    </div>
                    <div class="challenge-description">${challenge.description}</div>
                    <button class="hint-button" onclick="toggleHint(${challenge.id})">üí° Show Hint</button>
                    <div class="hint-text" id="hint-${challenge.id}">${challenge.hint}</div>
                    ${!isSolved ? `
                        <div class="flag-input-group">
                            <input type="text" class="flag-input" id="input-${challenge.id}" 
                                   placeholder="Enter flag here (e.g., FLAG{...})" 
                                   ${isSolved ? 'disabled' : ''}>
                            <button class="submit-button" onclick="submitFlag(${challenge.id})" 
                                    ${isSolved ? 'disabled' : ''}>Submit</button>
                        </div>
                        <div class="feedback" id="feedback-${challenge.id}"></div>
                    ` : '<div class="feedback success show">‚úì Challenge Completed!</div>'}
                `;
                container.appendChild(card);
            });
        }

        function toggleHint(challengeId) {
            const hintElement = document.getElementById(`hint-${challengeId}`);
            hintElement.classList.toggle('show');
        }

        function submitFlag(challengeId) {
            const challenge = challenges.find(c => c.id === challengeId);
            const input = document.getElementById(`input-${challengeId}`);
            const feedback = document.getElementById(`feedback-${challengeId}`);
            const userFlag = input.value.trim();

            if (userFlag.toUpperCase() === challenge.flag.toUpperCase()) {
                feedback.className = 'feedback success show';
                feedback.textContent = `‚úì Correct! +${challenge.points} points`;
                
                if (!userProgress.solved.includes(challengeId)) {
                    userProgress.solved.push(challengeId);
                    userProgress.score += challenge.points;
                    saveProgress();
                    updateScoreBoard();
                    
                    setTimeout(() => {
                        renderChallenges();
                        if (userProgress.solved.length === challenges.length) {
                            setTimeout(() => {
                                alert(`üéâ Congratulations ${userProgress.username}! You've completed all challenges!\n\nFinal Score: ${userProgress.score}`);
                            }, 500);
                        }
                    }, 1500);
                }
            } else {
                feedback.className = 'feedback error show';
                feedback.textContent = '‚úó Incorrect flag. Try again!';
                setTimeout(() => {
                    feedback.classList.remove('show');
                }, 3000);
            }
        }

        function updateScoreBoard() {
            document.getElementById('score').textContent = userProgress.score;
            document.getElementById('solved').textContent = userProgress.solved.length;
        }

        function saveProgress() {
            localStorage.setItem('ctf_progress', JSON.stringify(userProgress));
            updateGlobalScores();
        }

        function updateGlobalScores() {
            const existingIndex = allScores.findIndex(s => s.username === userProgress.username);
            
            if (existingIndex !== -1) {
                allScores[existingIndex] = {
                    username: userProgress.username,
                    score: userProgress.score,
                    solved: userProgress.solved.length,
                    timestamp: userProgress.timestamp
                };
            } else {
                allScores.push({
                    username: userProgress.username,
                    score: userProgress.score,
                    solved: userProgress.solved.length,
                    timestamp: userProgress.timestamp
                });
            }

            allScores.sort((a, b) => b.score - a.score);
            localStorage.setItem('ctf_scores', JSON.stringify(allScores));
        }

        function showAdminPanel() {
            const modal = document.getElementById('adminModal');
            const scoreboardList = document.getElementById('scoreboardList');
            
            allScores.sort((a, b) => b.score - a.score);
            
            if (allScores.length === 0) {
                scoreboardList.innerHTML = '<p style="text-align: center; opacity: 0.8;">No scores yet. Be the first to play!</p>';
            } else {
                scoreboardList.innerHTML = allScores.map((player, index) => `
                    <div class="scoreboard-item">
                        <div class="player-info">
                            <div class="player-rank">#${index + 1}</div>
                            <div>
                                <div class="player-name">${player.username}</div>
                                <div style="font-size: 0.9em; opacity: 0.8;">Solved: ${player.solved}/5</div>
                            </div>
                        </div>
                        <div class="player-score">${player.score} pts</div>
                    </div>
                `).join('');
            }
            
            modal.classList.add('show');
        }

        function closeAdminPanel() {
            document.getElementById('adminModal').classList.remove('show');
        }

        // Close modal when clicking outside
        document.getElementById('adminModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeAdminPanel();
            }
        });

        // Allow Enter key to submit
        document.addEventListener('keypress', function(e) {
            if (e.key === 'Enter' && e.target.classList.contains('flag-input')) {
                const challengeId = parseInt(e.target.id.split('-')[1]);
                submitFlag(challengeId);
            }
        });

        // Initialize game on load
        initGame();
    </script>
</body>
</html>
